# トランザクション

## 概要

複数のSQL文によるデータ更新を１つの処理をして、まとめてデータベースに反映させること  

## トランザクション関連の命令

トランザクションに関連する命令として、以下２つが挙げられる  

| 命令 | 処理の内容 |  
| ---- | ---- |
| Commit | トランザクションで実行したSQL文を確定する |  
| Rollback | トランザクションで実行したSQL文を破棄する |  

## 使用例

トランザクションの使用例として、預金の振替処理を考えると以下の操作が必要になる

1. 口座Aの残高を10000円減らす
2. 口座Bの残高を10000円増やす

上記の「1, 2」がともに成功した場合、`Commit`する。  
「1」は成功、「2」が失敗した場合などの中途半端な結果になる場合、`Rollback`して「1」もなかったことにする

---

### 参考
* [OSS-DB(LPI-Japan)](https://oss-db.jp/dojo/dojo_01)  
* [Databricks](https://www.databricks.com/jp/glossary/acid-transactions)